

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.2.15. patsy.SubtermInfo &mdash; Patsy API v1</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Patsy API v1" href="../../index.html"/>
        <link rel="up" title="1. patsy" href="../patsy.html"/>
        <link rel="next" title="1.2.15.1.1. patsy.SubtermInfo.__init__" href="patsy.SubtermInfo.__init__.html"/>
        <link rel="prev" title="1.2.14.1.3. patsy.Poly.code_without_intercept" href="patsy.Poly.code_without_intercept.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Patsy API
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../patsy.html">1. patsy</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../patsy.html#functions">1.1. Functions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../patsy.html#classes">1.2. Classes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="patsy.ContrastMatrix.html">1.2.1. patsy.ContrastMatrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.DesignInfo.html">1.2.2. patsy.DesignInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.DesignMatrix.html">1.2.3. patsy.DesignMatrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.Diff.html">1.2.4. patsy.Diff</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.EvalEnvironment.html">1.2.5. patsy.EvalEnvironment</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.EvalFactor.html">1.2.6. patsy.EvalFactor</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.FactorInfo.html">1.2.7. patsy.FactorInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.Helmert.html">1.2.8. patsy.Helmert</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.LinearConstraint.html">1.2.9. patsy.LinearConstraint</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.LookupFactor.html">1.2.10. patsy.LookupFactor</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.ModelDesc.html">1.2.11. patsy.ModelDesc</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.NAAction.html">1.2.12. patsy.NAAction</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.Origin.html">1.2.13. patsy.Origin</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.Poly.html">1.2.14. patsy.Poly</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.2.15. patsy.SubtermInfo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#methods">1.2.15.1. Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="patsy.Sum.html">1.2.16. patsy.Sum</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.Term.html">1.2.17. patsy.Term</a></li>
<li class="toctree-l3"><a class="reference internal" href="patsy.Treatment.html">1.2.18. patsy.Treatment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../patsy.html#exceptions">1.3. Exceptions</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Patsy API</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../api.html">&lt;no title&gt;</a> &raquo;</li>
        
          <li><a href="../patsy.html">1. patsy</a> &raquo;</li>
        
      <li>1.2.15. patsy.SubtermInfo</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/generated/generated/patsy.SubtermInfo.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="patsy-subterminfo">
<h1>1.2.15. patsy.SubtermInfo<a class="headerlink" href="#patsy-subterminfo" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="patsy.SubtermInfo">
<em class="property">class </em><code class="descclassname">patsy.</code><code class="descname">SubtermInfo</code><span class="sig-paren">(</span><em>factors</em>, <em>contrast_matrices</em>, <em>num_columns</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/patsy/design_info.html#SubtermInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#patsy.SubtermInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>A SubtermInfo object is a simple metadata container describing a single
primitive interaction and how it is coded in our design matrix. Our final
design matrix is produced by coding each primitive interaction in order
from left to right, and then stacking the resulting columns. For each
<a class="reference internal" href="patsy.Term.html#patsy.Term" title="patsy.Term"><code class="xref py py-class docutils literal"><span class="pre">Term</span></code></a>, we have one or more of these objects which describe how
that term is encoded. <code class="xref py py-attr docutils literal"><span class="pre">DesignInfo.term_codings</span></code> is a dictionary
which maps term objects to lists of SubtermInfo objects.</p>
<p>To code a primitive interaction, the following steps are performed:</p>
<ul class="simple">
<li>Evaluate each factor on the provided data.</li>
<li>Encode each factor into one or more proto-columns. For numerical
factors, these proto-columns are identical to whatever the factor
evaluates to; for categorical factors, they are encoded using a
specified contrast matrix.</li>
<li>Form all pairwise, elementwise products between proto-columns generated
by different factors. (For example, if factor 1 generated proto-columns
A and B, and factor 2 generated proto-columns C and D, then our final
columns are <code class="docutils literal"><span class="pre">A</span> <span class="pre">*</span> <span class="pre">C</span></code>, <code class="docutils literal"><span class="pre">B</span> <span class="pre">*</span> <span class="pre">C</span></code>, <code class="docutils literal"><span class="pre">A</span> <span class="pre">*</span> <span class="pre">D</span></code>, <code class="docutils literal"><span class="pre">B</span> <span class="pre">*</span> <span class="pre">D</span></code>.)</li>
<li>The resulting columns are stored directly into the final design matrix.</li>
</ul>
<p>Sometimes multiple primitive interactions are needed to encode a single
term; this occurs, for example, in the formula <code class="docutils literal"><span class="pre">&quot;1</span> <span class="pre">+</span> <span class="pre">a:b&quot;</span></code> when <code class="docutils literal"><span class="pre">a</span></code>
and <code class="docutils literal"><span class="pre">b</span></code> are categorical. See <span class="xref std std-ref">formulas-building</span> for full details.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.4.0.</span></p>
</div>
<p>Attributes:</p>
<dl class="attribute">
<dt id="patsy.SubtermInfo.factors">
<code class="descname">factors</code><a class="headerlink" href="#patsy.SubtermInfo.factors" title="Permalink to this definition">¶</a></dt>
<dd><p>The factors which appear in this subterm&#8217;s interaction.</p>
</dd></dl>

<dl class="attribute">
<dt id="patsy.SubtermInfo.contrast_matrices">
<code class="descname">contrast_matrices</code><a class="headerlink" href="#patsy.SubtermInfo.contrast_matrices" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict mapping factor objects to <a class="reference internal" href="patsy.ContrastMatrix.html#patsy.ContrastMatrix" title="patsy.ContrastMatrix"><code class="xref py py-class docutils literal"><span class="pre">ContrastMatrix</span></code></a> objects,
describing how each categorical factor in this interaction is coded.</p>
</dd></dl>

<dl class="attribute">
<dt id="patsy.SubtermInfo.num_columns">
<code class="descname">num_columns</code><a class="headerlink" href="#patsy.SubtermInfo.num_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of design matrix columns which this interaction generates.</p>
</dd></dl>

<dl class="method">
<dt id="patsy.SubtermInfo.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>factors</em>, <em>contrast_matrices</em>, <em>num_columns</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/patsy/design_info.html#SubtermInfo.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#patsy.SubtermInfo.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<div class="section" id="methods">
<h2>1.2.15.1. Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="patsy.SubtermInfo.__init__.html#patsy.SubtermInfo.__init__" title="patsy.SubtermInfo.__init__"><code class="xref py py-obj docutils literal"><span class="pre">__init__</span></code></a>(factors,&nbsp;contrast_matrices,&nbsp;num_columns)</td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="patsy.SubtermInfo.__init__.html" class="btn btn-neutral float-right" title="1.2.15.1.1. patsy.SubtermInfo.__init__" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="patsy.Poly.code_without_intercept.html" class="btn btn-neutral" title="1.2.14.1.3. patsy.Poly.code_without_intercept" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>